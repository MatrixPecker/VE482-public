<div style="width:60%;height:200px;text-align:center;border:14px solid #808080;border-top:none;border-left:none;border-bottom:none;display:inline-block">
    <div style="border:4px solid #808080;border-radius:8px;width:95%;height:100%;background-color: rgb(209, 209, 209);">
        <div style="width:100%;height:30%;text-align:center;line-height:60px;font-size:26px;font-family:'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;">VE482 Lab Report</div>
        <div style="width:100%;height:18%;text-align:center;line-height:26px;font-size:20px;font-familny:'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;"><b>Lab 2</b> - Fall 2020</div>
        <div style="width:100%;height:57%;text-align:center;font-size:16px;line-height:22px;font-family: 'Courier New', Courier, monospace;font-weight:300;"><br><b>Name: Wu Qinhang<br>ID: 518370910041<br>Email: william_wu@sjtu.edu.cn<br></b></div>
    </div>
</div>
<div style="width:35%;height:200px;display:inline-block;float:right">
    <div style="width:100%;height:25%;text-align:center;line-height:55px;font-size:20px;font-family:'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;"><b>Table of Contents</b></div>
    <div style="width:100%;height:75%;text-align:left;margin-left:2px;line-height:30px;font-size:13px;font-family:Verdana, Geneva, Tahoma, sans-serif;font-weight:300;">• Getting started with Minix 3<br>• SSH<br>• Basic git</div>
</div>


[TOC]

## Minix 3

### Software management[^1]

The primary method of managing software on Minix is to use the program `pkgin`. Before using it, the system should first be `setup`.

- install: `pkgin install packageName`, where packageName is the package needed to be installed
- remove: `pkgin remove packageName`, where packageName is the package needed to be removed
- update: `pkgin update`

### Common commands

- `ifconfig`: display basic network information, including LAN ip, netmask and so on; configure TCP/IP
- `adduser`: add a new user to the system; created a user folder (and skeleton files) if required
- `passwd`: modify (or initially set) a user's password

## SSH

### setup

```shell
pkgin update
pkgin install openssh
vi /usr/pkg/etc/ssh/sshd_config
# change Port 22 to Port 2222
passwd
# set a password for root (or another user)
```

### Q&A

- the default SSH port is `22`
- files in `$HOME/.ssh` includes:
  - `authorized_keys`: a list of public keys. When a user with a certain private key tries to connect with the host, it is compared with existing public keys in this file. If matched, the connection is allowed.
  - `known_hosts`: a list with SSH fingerprints for each machine that the user have ever logged into.
  - `config`: the file used for system-wide client configuration for SSH.[^2]
  - `id_rsa`: private key
  - `id_rsa.pub`: public key
- key-only authentication with SSH: first, a pair of key is generated by the user, including a private key and a public key. Next, the public key is sent to the server, which is stored and marked as authorized. In this way, the server will check the private key of any users that tries to connect with the server via SSH. If the keys are matched, the user can login onto the server.[^3]
- the command I use to log into Minix 3 with SSH: `ssh root@192.168.227.129 -p 2222`, where `192.168.227.129` is the LAN ip address of my Minix system.

## Git[^4]

- `help`: display common Git commands that are used in various situations.
- `init`: initialize an empty local Git repository in a specified directory.
- `branch`: list all of the existing branch of the repo, or create a new branch
- `checkout`: check out to another branch
- `add`: stage all the changes in the specified directory for future commit
- `commit`: commit the staged snapshot, include commit message if specified
- `diff`: show difference between working directory/staged changes with the last commit
- `fetch`: fetch a specified branch
- `pull`: fetch a specified copy of current branch and try to merge
- `push`: push the branch to remote with necessary commits and objects
- `clone`: clone repo from a specified location onto local machine
- `merge`: merge a specified branch to the current branch
- `reset`: reset the current HEAD to a specified state
- `tag`: create, list, delete, or verify a tag object
- `log`: show the commit logs

*Note: the order of some commands have been adjusted.*



[^1]: “pkgin, a binary package manager for pkgsrc,” *Pkgin.net*, 2020. [Online]. Available: https://pkgin.net/. [Accessed: 22-Sep-2020].‌
[^2]:“The .ssh Directory,” *Msri.org*, 2020. [Online]. Available: https://www.msri.org/realvideo/ln/msri/usered/ssh/bernstein/1/7.html. [Accessed: 22-Sep-2020].
[^3]:“What is SSH Public Key authentication?,” *Ssh.com*, 2020. [Online]. Available: https://www.ssh.com/ssh/public-key-authentication. [Accessed: 22-Sep-2020].
[^4]:“Git - Reference,” *Git-scm.com*, 2020. [Online]. Available: https://git-scm.com/docs. [Accessed: 22-Sep-2020].